<!DOCTYPE HTML>
<html lang="jac">
<head>
<title>FileEncoding - 構文と使用法｜AutoHotkey v2</title>
<meta name="description" content="The FileEncoding関数は、FileRead関数、 Loop Read文、 FileAppend関数とFileOpen関数のエンコード方法の初期値を設定します。" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="../static/theme.css" rel="stylesheet" type="text/css" />
<script src="../static/content.js" type="text/javascript"></script>
</head>
<body>

<h1>FileEncoding</h1>

<p><a href="FileRead.htm">FileRead</a>関数、<a href="LoopRead.htm">Loop Read</a>文、<a href="FileAppend.htm">FileAppend</a>関数、<a href="FileOpen.htm">FileOpen</a>関数のエンコード方法の初期値を設定します。</p>

<pre class="Syntax"><span class="func">FileEncoding</span> Encoding</pre>

<h2 id="Parameters">パラメータ</h2>
<dl>
  <dt>Encoding</dt>
  <dd>
    <p>型：<a href="../Concepts.htm#strings">文字列</a>または<a href="../Concepts.htm#numbers">整数</a></p>
    <p>以下のいずれかの値を指定します：</p>
    <p><strong>CP0</strong>または空文字列：システムデフォルトのANSIコードページ。下記の備考をご覧ください。</p>
    <p><strong>UTF-8：</strong>Unicode UTF-8、CP65001と同等です。</p>
    <p><strong>UTF-8-RAW：</strong>上記と同様ですが、新規ファイル作成時にバイトオーダーマークを付与しません。</p>
    <p><strong>UTF-16：</strong>Unicode UTF-16 リトルエンディアンバイトオーダーで、CP1200と同等。</p>
    <p><strong>UTF-16-RAW：</strong>上記と同様ですが、新規ファイル作成時にバイトオーダーマークを付与しません。</p>
    <p><strong>CP<em>nnn</em>：</strong>数値識別子<em>nnn</em>を持つコードページ。<a href="https://learn.microsoft.com/windows/win32/intl/code-page-identifiers">コードページ識別子</a>をご覧ください。</p>
    <p><strong><em>nnn</em>：</strong>数値のコードページ識別子。</p>
  </dd>
</dl>

<h2 id="Return_Value">戻り値</h2>
<p>型：<a href="../Concepts.htm#strings">文字列</a></p>
<p>前の設定に戻す機能です。</p>

<h2 id="Remarks">備考</h2>
<p>FileEncodingが使われていないときは、エンコードの初期値はCP0です。</p>
<p>CP0は、普遍的に1つのコードページを識別するのではなく、システムのデフォルトのANSIコードページに対応し、システムロケールまたは「非Unicodeプログラム用の言語」のシステム設定に依存します。実際のコードページ番号を取得するには、<code>DllCall("GetACP")</code>を呼び出します。</p>
<p>組込変数<strong>A_FileEncoding</strong>に現在の設定が格納されます。</p>
<p>新しく起動する<a href="../misc/Threads.htm">スレッド</a>（<a href="../Hotkeys.htm">ホットキー</a>、<a href="Menu.htm">カスタムメニュー項目</a>、<a href="SetTimer.htm">時間指定</a>サブルーチンなど）はすべて、この機能のデフォルト設定で新しくスタートします。このデフォルトは、<a href="../Scripts.htm#auto">スクリプト起動</a>時にこの関数を使用することで変更することができます。</p>
<p>ファイル内にUTF-8またはUTF-16のバイトオーダーマークがある場合、ファイルが書き込み専用でオープンされている（つまり、ファイルの以前のコンテンツが破棄されている）場合を除き、デフォルトエンコーディングは使用されません。</p>

<h2 id="Related">関連</h2>
<p><a href="FileOpen.htm">FileOpen</a>、<a href="StrGet.htm">StrGet</a>、<a href="StrPut.htm">StrPut</a>、<a href="FileRead.htm#Binary">バイナリデータの読み取り</a></p>

</body>
</html>

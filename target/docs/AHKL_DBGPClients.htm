<!DOCTYPE HTML>
<html lang="ja">
<head>
<title>クライアントのデバッグ｜AutoHotkey v2</title>
<meta name="description" content="このページには、AutoHotkeyと互換性があることがわかっているデバッグクライアントまたはUIがいくつかリストされています。" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="static/theme.css" rel="stylesheet" type="text/css" />
<script src="static/content.js" type="text/javascript"></script>
</head>
<body>

<h1>クライアントのデバッグ</h1>

<p>追加のデバッグ機能は、言語およびデバッガーUI通信用の一般的なデバッガープロトコルである <a href="https://xdebug.org/docs/dbgp">DBGp</a>を介してサポートされます。詳細については、<a href="Scripts.htm#idebug">インタラクティブデバッグ</a>をご覧ください。AutoHotkeyと互換性があることが知られているいくつかの UI または「クライアント」は、このページにリストされています：</p>
<ul>
  <li><a href="#SciTE4AutoHotkey">SciTE4AutoHotkey</a></li>
  <li><a href="#XDebugClient">XDebugClient</a></li>
  <li><a href="#Notepad++">Notepad++ DBGpプラグイン</a></li>
  <li><a href="#dbgp.ahk">スクリプトベースクライアント</a></li>
  <li><a href="#command-line-client">コマンドラインクライアント</a></li>
  <li><a href="#others">その他</a></li>
</ul>

<h2 id="SciTE4AutoHotkey">SciTE4AutoHotkey</h2>
<p><a href="https://www.autohotkey.com/scite4ahk/">SciTE4AutoHotkey</a> は無料の <a href="https://www.scintilla.org/SciTE.html">SciTE</a>ベースの AutoHotkey スクリプト エディタです。DBGpのサポートに加え、AutoHotkeyのシンタックスハイライト、コールチップ/パラメータ情報、オートコンプリートなど、便利な編集機能、スクリプトツールも提供します。</p>
<p>デバッグ機能は以下の通りです：</p>
<ul>
  <li>ブレークポイント。</li>
  <li>実行、ステップオーバー、ステップイン、ステップアウト。</li>
  <li>コールスタックを表示します。</li>
  <li>ローカル／グローバルスコープにある変数の名前と内容をリストアップします。</li>
  <li>変数にカーソルを合わせると内容が表示されます。</li>
  <li>変数の内容を検査または編集します。</li>
  <li>オブジェクトの構造を表示します。</li>
</ul>
<p><a href="https://www.autohotkey.com/scite4ahk/">https://www.autohotkey.com/scite4ahk/</a></p>

<h2 id="VSCode">Visual Studio Code</h2>
<p><a href="https://marketplace.visualstudio.com/items?itemName=zero-plusplus.vscode-autohotkey-debug">vscode-autohotkey-debug</a>拡張機能により、<a href="https://code.visualstudio.com/">Visual Studio Code</a>が AutoHotkey のデバッガークライアントとして動作するようになります。この拡張機能は、すべての基本的なデバッグ機能に加え、ブレークポイントディレクティブ（コメントとして）や条件付きブレークポイントなど、より高度な機能をサポートしています。</p>

<h2 id="XDebugClient">XDebugClient</h2>
<p><a href="https://code.google.com/archive/p/xdebugclient/">XDebugClient</a>は、<b>.NET Framework 2.0</b>をベースにしたシンプルなオープンソースのフロントエンドDBGpクライアントです。XDebugClientはもともとXdebugでPHP用に設計されたものですが、AutoHotkeyと互換性のあるカスタムビルドを以下に公開します。</p>
<p><b>変更：</b></p>
<ul>
  <li>デバッガーエンジンが「php」以外の言語を報告できるようにします。</li>
  <li>AutoHotkeyのシンタックスハイライトを追加しました。</li>
  <li>ユーザーが「<em>リスニング開始</em>」をクリックするのを待つのではなく、デバッガーエンジンからの接続を自動的にリスニングします。</li>
  <li>AutoHotkeyは現在、変数の内容全体を返し、XDebugClientにはバイナリコンテンツを表示するための適切なインターフェースがないため、最初のヌル文字でプロパティ値を切り詰めます。</li>
</ul>
<p><b>ダウンロード：</b> <a href="https://www.autohotkey.com/download/tools/XDebugClient.zip">バイナリ</a> | <a href="https://www.autohotkey.com/download/tools/XDebugClient_src.zip">ソースコード</a>(<a href="https://github.com/icsharpcode">SharpDevelop</a>、<a href="https://sourceforge.net/projects/dockpanelsuite/">Dockpanel Suite</a>、<a href="https://www.codeproject.com/Articles/14741/Advanced-TreeView-for-NET">Advanced TreeView</a>もご覧ください。)</p>
<p><b>使用方法：</b></p>
<ul>
  <li>XDebugClientを起動します。</li>
  <li>AutoHotkey /Debugを起動します。XDebugClientは自動的にスクリプトファイルを開くはずです。</li>
  <li>少なくとも1つのブレークポイントを設定するために、左マージンをクリックします。</li>
  <li>デバッグ」メニューから「実行」を選択するか、<kbd>F5</kbd>キーを押します。</li>
  <li>実行中にブレークポイントが発生したら、デバッグメニューやショートカットキーを使って、スクリプトをステップ実行したり再開したりします。</li>
</ul>
<p><b>特徴：</b></p>
<ul>
  <li>シンタックスハイライトされた、ソースコードの読み取り専用ビューです。</li>
  <li>ブレークポイント。</li>
  <li>実行、ステップオーバー、ステップイン、ステップアウト。</li>
  <li>コールスタックを表示します。</li>
  <li>変数の検査 - 変数名を選択し、右クリックし、検査します。</li>
</ul>
<p><b>課題：</b></p>
<ul>
  <li>スクリプトの実行中は、ユーザーインターフェースはユーザー入力に反応しません。</li>
  <li>変数をリストアップしたり、その値を設定する仕組みは用意されていない。</li>
</ul>

<h2 id="Notepad++">Notepad++ DBGpプラグイン</h2>
<p>DBGp クライアントは、<a href="https://notepad-plus-plus.org/">Notepad++</a> <strong>32-bit</strong>のプラグインとして提供されています。PHP用に設計されていますが、AutoHotkeyでも動作します。このプラグインは2012年以降更新されておらず、Notepad++の64ビット版には対応していません。</p>
<p><b>ダウンロード：</b> <a href="https://sourceforge.net/projects/npp-plugins/files/DBGP%20Plugin/">Notepad++のDBGpプラグイン</a>をご覧ください。</p>
<p><b>使用方法：</b></p>
<ul>
  <li>Notepad++を起動します。</li>
  <li>DBGpプラグインの設定は、「<i>プラグイン</i>」→「<i>DBGp</i>」→「<i>設定...</i>」で行います
    <p class="note"><b>注：</b>ファイルマッピングは必ず設定する必要があります。ほとんどのユーザーはリモートでデバッグすることはないので、「<i>Bypass all mapping (local windows setup)</i>」にチェックマークを付けるだけでよいでしょう。</p>
  </li>
  <li>ツールバーまたは<b>プラグイン</b>、<b>DBGp</b>、<b>デバッガー</b>から、デバッガーペインを表示します。</li>
  <li>デバッグ対象のスクリプトファイルを開きます。</li>
  <li>少なくとも1つのブレークポイントを設定します。</li>
  <li>AutoHotkey /Debugを起動します。</li>
  <li>デバッガーのツールバーやショートカットキーを使って、デバッガーを操作することができます。</li>
</ul>
<p><b>特徴：</b></p>
<ul>
  <li>ユーザーによって設定されている場合、シンタックスハイライトを行います。</li>
  <li>ブレークポイント。</li>
  <li>ラン、ステップオーバー/イント/アウト、カーソルまでラン、ストップ。</li>
  <li>ローカル/グローバル変数を表示します。</li>
  <li>ユーザー指定の変数を見る。</li>
  <li>コールスタックを表示します。</li>
  <li>変数にカーソルを合わせると、その内容が表示されます。</li>
  <li>ユーザー設定可能なショートカットキー - 設定、ショートカットマッパー...、プラグインコマンド。</li>
</ul>
<p><b>課題：</b></p>
<ul>
  <li>1 文字の変数にカーソルを合わせても機能しません。たとえば、<code>a</code> にカーソルを合わせると、<code> a</code> または <code>a </code>を取得しようとしてしまいます。</li>
  <li>テキストにカーソルを合わせると、テキストに不正な文字が含まれていても、変数の取得を試みます。</li>
  <li>property_getに失敗するとNotepad++が不安定になるので、上記の点を考慮すると特に問題です。回避策として、AutoHotkeyでは、存在しない変数や無効な変数が要求された場合、エラーコードではなく、空のプロパティを送信します。</li>
</ul>

<h2 id="dbgp.ahk">スクリプトベースクライアント</h2>
<p>スクリプトベースのDBGpライブラリとサンプルクライアントは、GitHubから入手可能です。</p><ul>
  <li>dbgp_console.ahk：シンプルなコマンドラインクライアントです。</li>
  <li>dbgp_test.ahk：非同期デバッグのデモを行います。</li>
  <li>dbgp_listvars.ahk：実行中のスクリプトの変数を一覧表示するだけのクライアント例。</li>
</ul>
<p>GitHub：<a href="https://github.com/Lexikos/dbgp">Lexikos / <strong>dbgp</strong></a></p>
<p>DebugVarsスクリプトは、実行中のスクリプト（コンパイル済みスクリプトを除く）の変数やオブジェクトの内容を検査したり変更したりするためのグラフィカルユーザーインターフェイスを提供します。また、dbgp.ahkライブラリのデモも兼ねています。</p>
<p>GitHub：<a href="https://github.com/Lexikos/DebugVars.ahk#debugvars">Lexikos / <strong>DebugVars</strong></a></p>

<h2 id="command-line-client">コマンドラインクライアント</h2>
<p>コマンドラインクライアントは<a href="https://xdebug.org/">xdebug.org</a>から入手可能ですが、DBGp（プロトコル）を十分に理解する必要があるため、ほとんどのユーザーには適していません。</p>

<h2 id="others">その他</h2>
<p>他にも多くのDBGpクライアントがありますが、AutoHotkeyでの動作確認はしていません。一覧は、<a href="https://xdebug.org/docs/remote">Xdebug：Documentation</a>をご覧ください。</p>

</body>
</html>
